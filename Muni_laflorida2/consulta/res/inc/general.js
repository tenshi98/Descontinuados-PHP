var Wextensible=Wextensible||{};Wextensible.general={html5Elements:(function(){var prueba=document.createElement("header");var instancia=false;try{instancia=((prueba instanceof HTMLUnknownElement)||(prueba instanceof HTMLGenericElement));}catch(e){}if(instancia){var tags=["header","footer","section","nav","aside","time"];for(var i=0,maxi=tags.lenght;i<maxi;i++){document.createElement(tags[i]);}}})(),touch:(function(){try{document.createEvent("TouchEvent");return true;}catch(e){return false;}})(),vendorPrefixesCss:["-webkit-","-moz-","-o-","-xv-","-ms-","-mso-","-khtml-"],vpForCss:{},MAX_TEXTAREA:255,MAX_TABS:50,ANYO_INICIO:1601,ANYO_FIN:2299,NOMBRES_MES:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],DIAS_MES:[31,28,31,30,31,30,31,31,30,31,30,31],NOMBRES_DIAS_SEMANA:["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],esBisiesto:function(anyo){if((anyo%4)==0){var logA=((anyo%100)==0);var logB=((anyo%400)!=0);if(!(logA&&logB)){return true;}else{return false;}}else{return false;}},fechaActual:function(){try{var fecha=new Date();var dia=fecha.getDate();var diaSemana=fecha.getDay();var mes=fecha.getMonth()+1;var anyo=fecha.getFullYear();var diamesanyo=dia+"/"+mes+"/"+anyo;return Array(diaSemana,dia,mes,anyo,diamesanyo);}catch(e){return null;}},compruebaFecha:function(fecha){try{var arr=null;if(typeof(fecha)=="string"){var splites=new Array("../../default.htm","-",".","_",",",";");var temp=null;for(var i=0;i<splites.length;i++){var car=splites[i];temp=fecha.split(car);if(temp.length==3)break;}if(temp!=null){var dia=parseInt(temp[0]);var mes=parseInt(temp[1]);var anyo=parseInt(temp[2]);if((anyo>=wxG.ANYO_INICIO)&&(anyo<=wxG.ANYO_FIN)){if((mes>=1)&&(mes<=12)){var diasMes=wxG.DIAS_MES[mes-1];if(wxG.esBisiesto(anyo))diasMes++;if((dia>=1)&&(dia<=diasMes)){arr=new Array(dia,mes,anyo,dia+"/"+mes+"/"+anyo);}}}}}return arr;}catch(e){return null;}},formatoFecha:function(estaFecha,separaFecha,formatoDia,formatoMes,formatoAnyo,separaHms,formatoHora,formatoMinuto,formatoSegundo,separaFechaHora){var fec=null;if(estaFecha){if(typeof(estaFecha)=="object"){fec=estaFecha;}else if(typeof(estaFecha)=="string"){fec=new Date(estaFecha);}else{fec=new Date();}}else{fec=new Date();}var fecha="";if(typeof separaFecha!="boolean"){var sepFecha="../../";if(separaFecha)sepFecha=separaFecha;var fDia="00";if(formatoDia)fDia=formatoDia;var fMes="00";if(formatoMes)fMes=formatoMes;var fAnyo="0000";if(formatoAnyo)fAnyo=formatoAnyo;var dia=fec.getUTCDate();if((fDia=="00")&&(dia.toString().length==1))dia="0"+dia;var mes=fec.getUTCMonth()+1;if((fMes=="00")&&(mes.toString().length==1)){mes="0"+mes;}else if(fMes[0].toLowerCase()=="a"){mes=wxG.NOMBRES_MES[mes-1];if(fMes.length==3)mes=mes.substr(0,3);}var anyo=fec.getUTCFullYear();if(fAnyo=="00")anyo=anyo.toString().substr(2,2);fecha=dia+sepFecha+mes+sepFecha+anyo;}var hms="";var sepFechaHora="";if(typeof separaHms!="boolean"){var sepHms=":";if(separaHms)sepHms=separaHms;sepFechaHora=", ";if(separaFechaHora)sepFechaHora=separaFechaHora;var fHora="00";if(formatoHora)fHora=formatoHora;var fMinuto="00";if(formatoMinuto)fMinuto=formatoMinuto;var fSegundo="00";if(formatoSegundo)fSegundo=formatoSegundo;var hora=fec.getHours();if((fHora=="00")&&(hora.toString().length==1))hora="0"+hora;var minuto=fec.getMinutes();if((fMinuto=="00")&&(minuto.toString().length==1))minuto="0"+minuto;var segundo=fec.getSeconds();if((fSegundo=="00")&&(segundo.toString().length==1))segundo="0"+segundo;hms=hora+sepHms+minuto+sepHms+segundo;}return fecha+sepFechaHora+hms;},controlaTextarea:function(elemento,eventoEntrante,maximoTamanyo){try{var texto=elemento.value;var longitud=texto.length;texto=texto.substring(0,maximoTamanyo-1);elemento.value=texto;if(longitud>maximoTamanyo){var evento=eventoEntrante||window.event;var codigoAscii=evento.charCode||evento.keyCode;var teclas=new Array(8,37,38,39,40,46);for(var i in teclas){if(codigoAscii==teclas[i]){return true;}}return false;}else{return true;}}catch(e){return false;}},evaluaNumero:function(eventoEntrante){try{var evento=eventoEntrante||window.event;var codigoAscii=evento.charCode||evento.keyCode;var caracter=String.fromCharCode(codigoAscii);var numeros="-.0123456789";return numeros.indexOf(caracter)!=-1;}catch(e){return false;}},evaluaNumeroEntero:function(eventoEntrante){try{var evento=eventoEntrante||window.event;var codigoAscii=evento.charCode||evento.keyCode;var caracter=String.fromCharCode(codigoAscii);var numeros="0123456789";return numeros.indexOf(caracter)!=-1;}catch(e){return false;}},arreglaNumero:function(numero){try{var num=numero.value;if(num=="")num=0;var numFloat=parseFloat(num);if(isNaN(numFloat)){numero.value=0;}else{numero.value=numFloat;}}catch(e){}},arreglaNumeroEntero:function(numero){try{var num=numero.value;if(num=="")num=0;var numInt=parseInt(num);if(isNaN(numInt)){numero.value=0;}else{numero.value=numInt;}}catch(e){}},limitaValor:function(numero,tipo,desde,hasta){try{var val=0;if(isNaN(numero.value))numero.value=0;if(tipo=="entero"){val=parseInt(numero.value);}else{val=parseFloat(numero.value);}if(val<desde){numero.value=desde;}else if(val>hasta){numero.value=hasta;}else{numero.value=val;}}catch(e){}},redondear:function(numero,decimales){try{if(isNaN(numero))numero=0;if(decimales==null)decimales=0;if(isNaN(decimales))decimales=0;if(decimales<0)decimales=0;var base=Math.pow(10,decimales);return Math.round(numero*base)/base;}catch(e){return 0;}},quitaEspacios:function(cadena){try{if(cadena!=""){cadena=cadena.replace(/[ \s]+/g," ");cadena=cadena.replace(/^[ \s]+(.+)$/,"$1");cadena=cadena.replace(/^(.+)[ \s]+$/,"$1");}}catch(e){}return cadena;},trim:function(cadena){try{if(cadena!=""){cadena=cadena.replace(/^[ \s]+|[ \s]+$/,"");}}catch(e){}return cadena;},anulaEspacios:function(cadena){try{if(cadena!="")cadena=cadena.replace( /[ \s]+/g,"");}catch(e){}return cadena;},escapaBarraUri:function(uri){try{return uri.replace(/\\+/g,"/");}catch(e){return uri;}},escapaRegExp:function(cadena){return cadena.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");},agregaEscapeRegExp:function(cadena){try{cadena=cadena.replace(/\(/g,"\\(");cadena=cadena.replace(/\)/g,"\\)");}catch(e){}return cadena;},escapaHtml:function(cadena){try{cadena=cadena.replace(/&/g,"&amp;");cadena=cadena.replace(/</g,"&lt;");cadena=cadena.replace(/>/g,"&gt;");cadena=cadena.replace(/"/g,"&quot;");cadena=cadena.replace(/'/g,"&#39;");}catch(e){}return cadena;},escapaHtmlLiteral:function(cadena){try{cadena=cadena.replace(/&/g,"&amp;amp;");cadena=cadena.replace(/</g,"&amp;lt;");cadena=cadena.replace(/>/g,"&amp;gt;");cadena=cadena.replace(/"/g,"&amp;quot;");cadena=cadena.replace(/'/g,"&amp;#39;");}catch(e){}return cadena;},getInnerText:function(elemento){try{if(elemento==null){return "";}else if(elemento.childNodes.length>0){if(elemento.innerText){return elemento.innerText;}else if(elemento.textContent){return elemento.textContent;}else if(elemento.text){return elemento.text;}else{var nodoTexto=elemento.selectSingleNode("text()");if(nodoTexto!=null){return nodoTexto.nodeValue;}else{return "";}}}else{return "";}}catch(e){return "";}},setInnerText:function(elemento,texto){try{if(elemento!=null){if(elemento.innerText!=undefined){elemento.innerText=texto;}else if(elemento.textContent!=undefined){elemento.textContent=texto;}else if(elemento.innerHTML!=undefined){elemento.innerHTML=texto;}else if(elemento.text!=undefined){elemento.text=texto;}else{var nodoTexto=elemento.selectSingleNode("text()");if(nodoTexto!=null){nodoTexto.nodeValue=texto;}else{return null;}}}return elemento;}catch(e){return null;}},getOuterHTML:function(elemento){try{if(elemento==null){return "";}else if(elemento.outerHTML){return elemento.outerHTML;}else{var tag=elemento.tagName.toLowerCase();var outer="<"+tag;var atributos=elemento.attributes;var cadenaAtributos="";for(var i=0;i<atributos.length;i++){cadenaAtributos+=" "+atributos[i].nodeName+"=\u0022"+atributos[i].nodeValue+"\u0022";}outer+=cadenaAtributos;var conten="";try{conten=contenido("ELEMENT",tag);if(conten=="EMPTY"){outer+=" />";}else{outer+=">";}}catch(e){outer+=">";}outer+=elemento.innerHTML;if(conten!="EMPTY"){outer+="</"+tag+">";}return outer;}}catch(e){return "";}},setOuterHTML:function(elemento,cadenaHtml){try{if(elemento!=null){if(elemento.outerHTML){elemento.outerHTML=cadenaHtml;}else{var frag=rango.createContextualFragment(cadenaHtml);elemento.parentNode.replaceChild(frag,elemento);}}}catch(e){}},nodoPadre:function(nodo){try{if(nodo==null){return null;}else if(nodo.parentElement){return nodo.parentElement;}else{return nodo.parentNode;}}catch(e){return null;}},eliminaNodo:function(nodo,eliminaContenido){try{if(nodo==null){return null;}else if(nodo.removeNode){return nodo.removeNode(eliminaContenido);}else{return nodoPadre(nodo).removeChild(nodo);}}catch(e){return null;}},arrayClassName:function(nombreClase,elemento){try{function recorreDom(el,arr){var clase=el.className;var rg=new RegExp("(?:^| )"+nombreClase+"(?:$| )");if(rg.test(clase)){arr.push(el);}var hijos=el.childNodes;for(var i=0;i<hijos.length;i++){recorreDom(hijos[i],arr);}return arr;}var nodo=document.body;if(elemento!=null)nodo=elemento;if(document.getElementsByClassName){return nodo.getElementsByClassName(nombreClase);}else{var arr=new Array;return recorreDom(nodo,arr);}}catch(e){return null;}},agregarInsertDeleteRule:function(hoja){if(!hoja.insertRule&&hoja.addRule&&hoja.removeRule){hoja.insertRule=function(rule,item){var arr=rule.split("{");var selector=arr[0];var style=arr[1].substring(0,arr[1].length-1);hoja.addRule(selector,style,item);};hoja.deleteRule=function(item){hoja.removeRule(item);};}},recogeEvento:function(event){try{var evt=event||window.event;var objeto=new Object;objeto.event=evt;var touch=(evt.type.indexOf("touch")>-1);var tev;if(touch){tev=evt.changedTouches[0];}else{tev=evt;}objeto.element=tev.srcElement||tev.target;objeto.keyAscii=tev.charCode||tev.keyCode;if(tev.offsetX){objeto.x=tev.offsetX;objeto.y=tev.offsetY;}else if(tev.layerX){objeto.x=tev.layerX;objeto.y=tev.layerY;}else if(tev.pageX){objeto.x=tev.pageX-objeto.element.offsetLeft;objeto.y=tev.pageY-objeto.element.offsetLeft;}if(tev.pageX!=undefined){objeto.pagx=tev.pageX;objeto.pagy=tev.pageY;}else{var position=wxG.estiloActual(objeto.element,"position");if(((wxG.estiloActual(objeto.element,"display")!="block")&&(position=="static"))||(position=="fixed")){objeto.pagx=tev.x;objeto.pagy=tev.y;}else{objeto.pagx=tev.offsetX+objeto.element.offsetLeft;objeto.pagy=tev.offsetY+objeto.element.offsetTop;if(objeto.element.offsetParent){objeto.pagx+=objeto.element.offsetParent.offsetLeft;objeto.pagy+=objeto.element.offsetParent.offsetTop;}}}return objeto;}catch(e){return null;}},enciendeEvento:function(elemento,evento,touch){try{if((elemento!=null)&&(evento!="")){if(elemento.fireEvent){try{window.event.cancelBubble=true;}catch(e){};elemento.fireEvent(evento);}else if(document.createEvent){var evt=document.createEvent("HTMLEvents");evento=evento.substring(2,evento.length);evt.initEvent(evento,false,true);elemento.dispatchEvent(evt);}else{alert("Error, no se pudo encender un evento en 'general.js'");}}}catch(e){alert("Error en enciendeEvento de 'general.js'");}},conEventListener:false,agregarEventListener:function(tages,elementos){try{if(wxG.conEventListener||!document.body.addEventListener){wxG.conEventListener=true;if(tages){for(var i=0;i<tages.length;i++){var tagesi=tages[i].toLowerCase();switch(tagesi){case "p":tagesi="Paragraph";break;case "textarea":tagesi="TextArea";break;default:tagesi=tagesi[0].toUpperCase()+tagesi.substr(1,tagesi.length);}var objTag="HTML"+tagesi+"Element";if(window[objTag]){window[objTag].prototype.addEventListener=function(evento,accion,arg){this["on"+evento]=accion;};}}}if(elementos){for(var i=0,max=elementos.length;i<max;i++){var arr=elementos[i];if(arr.length==2){if(arr[0]&&!arr[0].addEventListener){if((arr[1]=="outer")||(arr[1]=="all")){arr[0].addEventListener=function(evento,accion,arg){this["on"+evento]=accion;};}if((arr[1]=="inner")||(arr[1]=="all")){var todos=arr[0].getElementsByTagName("*");for(var j=0,maxj=todos.length;j<maxj;j++){todos[j].addEventListener=function(evento,accion,arg){this["on"+evento]=accion;};}}}}}}}}catch(e){alert(e.message);}},objetoEstiloActual:function(elemento){try{if(elemento!=null){if(document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(elemento,null);}else{return null;}}else{return null;}}catch(e){try{return elemento.currentStyle;}catch(e){}return null;}},propiedadEstiloActual:function(objetoEstilo,propiedad){try{if(objetoEstilo&&(propiedad!="")){var prop=propiedad;if(propiedad.indexOf("-")>-1)prop=wxG.cambiaGuiones(propiedad);var valor=objetoEstilo[prop];if((valor==undefined)||(valor==null)){if(propiedad=="float"){propiedad="cssFloat";valor=objetoEstilo[propiedad];if(valor==null){propiedad="styleFloat";valor=objetoEstilo[propiedad];}}else{valor=objetoEstilo[propiedad];}if((valor==undefined)||(valor==null)){return null;}else{return valor;}}else{return valor;}}else{return null;}}catch(e){return null;}},prefijarCss:function(propiedad){var divtest=document.createElement("div");document.body.appendChild(divtest);var estilo=null;if(typeof(propiedad)=="string"){if(propiedad!="")estilo=[propiedad];}else if(propiedad.length){estilo=propiedad;}if(estilo&&(estilo.length>0)){var objEstilo=wxG.objetoEstiloActual(divtest);for(var j in estilo){var cadEst=wxG.trim(estilo[j]);if(cadEst!=""){var estiloCG=wxG.descambiaGuiones(cadEst);wxG.vpForCss[cadEst]=wxG.cambiaGuiones(cadEst);if(wxG.propiedadEstiloActual(objEstilo,estiloCG)==null){wxG.vpForCss[cadEst]=null;for(var i in wxG.vendorPrefixesCss){var conPrefijo=wxG.vendorPrefixesCss[i]+estiloCG;if(wxG.propiedadEstiloActual(objEstilo,conPrefijo)!=null){wxG.vpForCss[cadEst]=wxG.cambiaGuiones(conPrefijo);break;}}}}}}document.body.removeChild(divtest);},dotarVpCss:function(){var todos=document.body.getElementsByTagName("*");for(var inod=0,maxinod=todos.length;inod<maxinod;inod++){if(todos[inod].getAttribute&&todos[inod].getAttribute("data-vpforcss")){var listaProps=wxG.trim(todos[inod].getAttribute("data-vpforcss"));if(listaProps!=""){var estiloLinea=todos[inod].getAttribute("style");var arrEl=estiloLinea.split(";");var objEst=null;for(var iael in arrEl){var arrPar=arrEl[iael].split(":");if(arrPar.length==2){var nombre=wxG.trim(arrPar[0]);var valor="";if(nombre!=""){if(!objEst)objEst=new Object;valor=wxG.trim(arrPar[1]);objEst[nombre]=valor;}}}if(objEst){var props=listaProps.split(",");for(var ip in props){var propiedad=wxG.trim(props[ip]);if((propiedad!="")&&objEst[propiedad]&&wxG.vpForCss[propiedad]&&(wxG.vpForCss[propiedad]!=wxG.cambiaGuiones(propiedad))){todos[inod].style[wxG.vpForCss[propiedad]]=objEst[propiedad];}}}}}}},estiloActual:function(elemento,propiedad){try{if(window.getComputedStyle){return document.defaultView.getComputedStyle(elemento,null).getPropertyValue(propiedad);}else if(elemento.currentStyle){var propSinGuiones=wxG.cambiaGuiones(propiedad);if(elemento.currentStyle.getAttribute){return elemento.currentStyle.getAttribute(propSinGuiones);}else{return elemento.currentStyle[propSinGuiones];}}else{return "";}}catch(e){return "";}},cambiaGuiones:function(cadena){try{var temp="";if(cadena.indexOf("-")>-1){for(var i=0;i<cadena.length;i++){var car=cadena.substring(i,i+1);if(car=="-"){var carSgte=cadena.substring(i+1,i+2);temp+=carSgte.toUpperCase();i++;}else{temp+=car;}}temp=temp.replace(/\-/g,"");}else{temp=cadena;}return temp;}catch(e){return cadena;}},descambiaGuiones:function(cadena){try{var mayus="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var temp="";for(var i=0;i<cadena.length;i++){var car=cadena.substring(i,i+1);if(mayus.indexOf(car)>-1){temp+="-"+car.toLowerCase();}else{temp+=car;}}return temp;}catch(e){return cadena;}},inArray:function(unArray,valor){for(var i=0;i<unArray.length;i++){if(unArray[i]==valor)return true;}return false;},displayNext:function(event,id,preFunc){try{var evt=event||window.event;var este=evt.target||evt.srcElement;var elem=este,masMenos=false;if(id){elem=document.getElementById(id);}else{if(elem.hasAttribute("data-masmenos")){masMenos=true;elem=elem.nextSibling;}elem=elem.nextSibling;if(elem.nodeType!=1)elem=elem.nextSibling;}if(elem){if(preFunc)preFunc(elem);var disp=wxG.estiloActual(elem,"display");if(disp=="none"){elem.style.display="block";if(masMenos)este.innerHTML="-";}else{elem.style.display="none";if(masMenos)este.innerHTML="+";}}}catch(e){}},imprimirTrozo:function(elemento,inHead,vistaPrevia){if(elemento){var codigo="";if(typeof elemento=="string"){codigo=elemento;}else{codigo=elemento.outerHTML;}codigo=codigo.replace(/\bon[a-z]+="[^"]+"(?=[^>]*>)/g,"");var cadhtml='<!DOCTYPE html>'+'<html lang="es"><head>'+'<meta http-equiv="content-type" content="text/html; charset=UTF-8" />'+'<title>Wextensible.com: Imprimir</title>'+'<style>'+'@media print {'+'div#cabeza {'+'display: none;'+'}'+'.contenedor-imprimir {'+'border: 0;'+'}'+'.contenedor-imprimir > * {'+'height: 100% !important;'+'}'+'}'+'@media screen {'+'.contenedor-imprimir {'+'border: gray solid 1px;'+'}'+'.contenedor-imprimir > * {'+'height: 100% !important;'+'}'+'}'+'body {'+'background-color: gray;'+'}'+'.contenedor-imprimir {'+'width: 100%;'+'background-color: white;'+'word-wrap: break-word;'+'}'+'div#cabeza {'+'background-color: transparent;'+'padding: 0;'+'}'+'[class~=logowx] {'+'display: inline-block;'+'background-color: white;'+'width: 0;'+'height: 0;'+'border: solid;'+'border-width: 1em;'+'border-top-color: cyan;'+'border-right-color: rgb(0,128,129);'+'border-bottom-color: black;'+'border-left-color: silver;'+'vertical-align: middle;'+'outline: white solid 0.1em;'+'}'+'div#cabeza span.titulo {'+'color: orange;'+'font-family: Palatino Linotype, Palatino, Book Antiqua, Georgia, serif;'+'font-size: 2.5em;'+'font-style: italic;'+'vertical-align: middle;'+'padding-left: 0.2em; '+'}'+'div#cabeza input {'+'vertical-align: middle;'+'font-size: 1.3em;'+'margin-left: 1em;'+'marging-bottom: 0;'+'}'+'</style>'+inHead+'</head><body>'+'<div id="cabeza">'+'<div class="cabimg logowx"></div>'+'<span class="titulo">wextensible</span>'+'<input type="button" value="Imprimir" onclick="window.print()" />'+'</div>'+'<div class="contenedor-imprimir">'+codigo+'</div>'+'</body></html>';var ventana=window.open("","Imprimir");ventana.document.open("text/html");if(!vistaPrevia){ventana.window.onload=function(){ventana.print();ventana.close();};}ventana.document.write(cadhtml);ventana.document.close();}},activarTab:function(unTab){try{var id=unTab.id;if(id){var idTab=id.split("tabck-");var numTab=parseInt(idTab[1]);var esteTabDiv=document.getElementById("tabdiv-"+numTab);for(var i=1;i<wxG.MAX_TABS;i++){var tabdiv=document.getElementById("tabdiv-"+i);if(tabdiv){var tabck=document.getElementById("tabck-"+i);if(tabdiv.id==esteTabDiv.id){tabdiv.style.display="block";tabck.style.color="blue";tabck.style.backgroundColor="rgb(235, 235, 225)";tabck.style.borderBottomColor="rgb(235, 235, 225)";}else{tabdiv.style.display="none";tabck.style.color="white";tabck.style.backgroundColor="gray";tabck.style.borderBottomColor="gray";}}else{break;}}}}catch(e){alert("Error al activar una pestaña. "+e.message);}},activarTabB:function(este,id){var tb=document.getElementById(id);if((tb!=null)&&(tb.tagName.toLowerCase()=="tbody")){var tabla=wxG.nodoPadre(tb);if((tabla!=null)&&(tabla.tagName.toLowerCase()=="table")){var tbs=tabla.getElementsByTagName("tbody");for(i=0;i<tbs.length;i++){var pestanya=document.getElementById("th-"+tbs[i].id);if(tbs[i].id==id){pestanya.style.color="blue";pestanya.style.fontWeight="bold";pestanya.style.backgroundColor="rgb(235, 235, 225)";tbs[i].style.display="table-row-group";}else{pestanya.style.color="white";pestanya.style.fontWeight="normal";pestanya.style.backgroundColor="gray";tbs[i].style.display="none";}}}}},cargarModulos:function(arrModulos){if(arrModulos){for(var i=0,max=arrModulos.length;i<max;i++){var modulo=(arrModulos[i].replace(/[\-\.\/]/g,"_")).toUpperCase();Wextensible[modulo]();}}},cargarScrollMovil:function(objetivos){try{if(wxG.touch||wxG.oScroll.debug){function construirScroll(scmovs,hv,style){for(var i=0,maxi=scmovs.length;i<maxi;i++){var objetivo=scmovs[i];var sgte=objetivo.nextSibling;if((objetivo.innerHTML.length==0)||(!(sgte&&sgte.className&&(sgte.className=="scroll-movil")))){var html="";var hvh=(hv.indexOf("H")>-1);var hvH=((hv.indexOf("h")>-1)&&(objetivo.scrollWidth>objetivo.offsetWidth));var hvv=(hv.indexOf("V")>-1);var hvV=((hv.indexOf("v")>-1)&&(objetivo.scrollHeight>objetivo.offsetHeight));if(hvh||hvH){html+=htmlH;}if(hvv||hvV){html+=htmlV;}if(html!=""){var sty='style="display: block; '+style+'"';html='<div class="scroll-movil" '+sty+'>'+html+'</div>';scmovs[i].insertAdjacentHTML("afterend",html);}}}}wxG.prefijarCss("user-select");var userSelect=wxG.vpForCss["user-select"];var estilo="";if(userSelect){estilo+=wxG.descambiaGuiones(userSelect)+": none; ";}var arr=[[1,-1],[1,1],[0,-1],[0,1]];var flechas=["l","r","u","d"];var htmlH="",htmlV="";for(var i=0,maxi=arr.length;i<maxi;i++){var cad='<button class="scroll-movil-boton" '+'ontouchstart="wxG.iniciarScrollMovil(event,'+arr[i][0]+','+arr[i][1]+')" '+'ontouchend="wxG.pararScrollMovil(event)" '+'style="'+estilo+'" unselectable="on">&'+flechas[i]+'Arr;</button>';if(i<2){htmlH+=cad;}else{htmlV+=cad;}}for(var i=0,maxi=objetivos.length;i<maxi;i++){var clsId=objetivos[i][0];var nombre=objetivos[i][1];var hv="v";if(objetivos[i].length>2)hv=objetivos[i][2];var style="";if(objetivos[i].length>3)style='style="'+objetivos[i][3]+'"';if(clsId=="cls"){construirScroll(document.getElementsByClassName(nombre),hv,style);}else{var elemento=document.getElementById(nombre);if(elemento)construirScroll([elemento],hv,style);}}}}catch(e){}},oScroll:{interval:null,elemento:null,mm:0,hv:0,debug:false},iniciarScrollMovil:function(event,hv,masMenos){event.preventDefault();wxG.oScroll.interval=window.clearInterval(wxG.oScroll.interval);wxG.oScroll.interval=null;wxG.oScroll.elemento=wxG.nodoPadre(event.target).previousSibling;var salto=Math.round(parseInt(wxG.estiloActual(wxG.oScroll.elemento,"height"))/5);if(salto<48)salto=48;wxG.oScroll.mm=salto*masMenos;wxG.oScroll.hv=hv;wxG.oScroll.interval=window.setInterval(function(){if(wxG.oScroll.hv==0){wxG.oScroll.elemento.scrollLeft=0;wxG.oScroll.elemento.scrollTop+=wxG.oScroll.mm;}else{wxG.oScroll.elemento.scrollLeft+=wxG.oScroll.mm;}},100);},pararScrollMovil:function(event){event.preventDefault();wxG.oScroll.interval=window.clearInterval(wxG.oScroll.interval);wxG.oScroll.interval=null;},focoNumeric:null,cargarTecladoAuxiliar:function(arg,elementoPosicionAbrir,posicionAbrir){var cars=".-";var carsTitle=["punto","guion"];if(!document.getElementById("keyboard-numeric")){var html='<div class="knum-cerrar" title="Cerrar">&times;</div>'+'<div class="knum" onmousedown="wxG.variarTypeNumber(event, 1.0)" title="Subir valor">&uArr;</div>'+'<div class="knum" onmousedown="wxG.variarTypeNumber(event, -1.0)" title="Bajar valor">&dArr;</div>';for(var i=0,maxi=cars.length;i<maxi;i++){html+='<div class="knum" onmousedown="wxG.symNumeric(event, &quot;'+cars[i]+'&quot;)" '+'title="Agregar '+carsTitle[i]+'" style="display: none" '+'id="key-numeric-'+carsTitle[i]+'">'+cars[i]+'</div>';}var diver=document.createElement("div");diver.id="keyboard-numeric";diver.innerHTML=html;document.body.appendChild(diver);}var inputes=[];if(typeof arg=="string"){var contenedor=document.getElementById(arg);if(contenedor){inputes=contenedor.getElementsByTagName("input");}else{var contenedores=wxG.arrayClassName(arg);for(var i=0,maxi=contenedores.length;i<maxi;i++){var inps=contenedores[i].getElementsByTagName("input");for(var j=0,maxj=inps.length;j<maxj;j++){inputes[inputes.length]=inps[j];}}}}else if(typeof arg=="object"){inputes=arg.getElementsByTagName("input");}for(var i=0,maxi=inputes.length;i<maxi;i++){if(wxG.comprobarTipoInput(inputes[i],"number")){wxG.ajustarAnchoNumber(inputes[i]);var atrib=["max","min","step"];var valAt=["100000","0","1"];for(var j=0,maxj=atrib.length;j<maxj;j++){if(!inputes[i].hasAttribute(atrib[j])){inputes[i].setAttribute(atrib[j],valAt[j]);}}if(inputes[i].min<0){inputes[i].setAttribute("data-numero-negativo","");}if((inputes[i].value.indexOf(".")>-1)||(inputes[i].min.indexOf(".")>-1)||(inputes[i].max.indexOf(".")>-1)||(inputes[i].step.indexOf(".")>-1)){inputes[i].setAttribute("data-numero-real","");}wxG.agregarEventListener(null,[[inputes[i],"outer"]]);inputes[i].addEventListener("focus",function(event){var evt=event||window.event;var elemento=evt.target||evt.srcElement;if(wxG.comprobarTipoInput(elemento,"number")){wxG.focoNumeric=elemento;var arr=["max","min","step"];for(var k=0,maxk=arr.length;k<maxk;k++){var val=1.0;if(elemento.hasAttribute(arr[k])){var atval=elemento.getAttribute(arr[k]);if((atval!="")&&(!isNaN(atval))){val=parseFloat(atval);}}else if(arr[k]=="min"){val=-100000000;}else if(arr[k]=="max"){val=100000000;}else{val=1;}wxG.focoNumeric["at"+arr[k]]=val;}var keyNumericGuion=document.getElementById("key-numeric-guion");var keyNumericPunto=document.getElementById("key-numeric-punto");if(wxG.focoNumeric.hasAttribute("data-numero-negativo")){keyNumericGuion.style.display="block";}else{keyNumericGuion.style.display="none";}if(wxG.focoNumeric.hasAttribute("data-numero-real")){keyNumericPunto.style.display="block";}else{keyNumericPunto.style.display="none";}var sumaTop=0,sumaLeft=0;padre=elemento;while(padre.tagName.toLowerCase()!="body"){sumaTop-=padre.scrollTop;sumaLeft-=padre.scrollLeft;var ptn=padre.tagName.toLowerCase();var rel=(wxG.estiloActual(padre,"position")=="absolute");if(rel||(ptn=="table")||(ptn=="td")){var bw=parseInt(wxG.estiloActual(padre,"border-bottom-width"));if(isNaN(bw))bw=0;sumaTop+=padre.offsetTop+bw;sumaLeft+=padre.offsetLeft+bw;}padre=wxG.nodoPadre(padre);}var knum=document.getElementById("keyboard-numeric");if(isNaN(sumaTop))sumaTop=0;var elementoAbrir=elemento;if(elementoPosicionAbrir)elementoAbrir=elementoPosicionAbrir;var posicion="left-bottom";if(posicionAbrir)posicion=posicionAbrir;var posx=0,posy=0,arrPos=posicion.split("-");posx=elementoAbrir.offsetLeft+sumaLeft;if(arrPos[0]=="right")posx+=elementoAbrir.offsetWidth;posy=elementoAbrir.offsetTop+sumaTop;if(arrPos[1]=="bottom")posy+=elementoAbrir.offsetHeight;knum.style.left=posx+"px";knum.style.top=posy+"px";knum.style.display="block";}},false);inputes[i].addEventListener("blur",function(event){var evt=event||window.event;var elemento=evt.target||evt.srcElement;if(wxG.comprobarTipoInput(elemento,"number")){var valor=elemento.value;if(isNaN(valor))valor=0;valor=parseFloat(valor);if(valor>wxG.focoNumeric.atmax){valor=elemento.max;}else if(valor<wxG.focoNumeric.atmin){valor=elemento.min;}elemento.value=valor;var knum=document.getElementById("keyboard-numeric");knum.style.display="none";}},false);}}wxG.agregarEventListener(null,[[document.body,"outer"]]);document.body.addEventListener("mousedown",function(event){var evt=event||window.event;var elemento=evt.target||evt.srcElement;if((elemento!=wxG.focoNumeric)&&(elemento.className!="knum")){var knum=document.getElementById("keyboard-numeric");knum.style.display="none";}},false);},symNumeric:function(event,car){var evt=event||window.event;if(evt.preventDefault)evt.preventDefault();var valor=wxG.focoNumeric.value;if(wxG.focoNumeric.value===""){if(car=="-"){valor=wxG.focoNumeric.min;}else{valor=wxG.focoNumeric.min+car;}}else{if(car=="-"){valor=-wxG.focoNumeric.value;if(parseFloat(valor)<parseFloat(wxG.focoNumeric.min)){valor=wxG.focoNumeric.min;}}else if(wxG.focoNumeric.value.indexOf(".")==-1){valor=wxG.focoNumeric.value+car;}}wxG.focoNumeric.value=valor;wxG.focoNumeric.focus();},variarTypeNumber:function(event,masMenos){var evt=event||window.event;if(evt.preventDefault)evt.preventDefault();var valor=wxG.focoNumeric.value;if(valor=="")valor=0;if(isNaN(valor))valor=0;valor=parseFloat(valor);valor+=masMenos*wxG.focoNumeric.atstep;valor=parseFloat(valor.toFixed(8));if(valor>wxG.focoNumeric.atmax){valor=wxG.focoNumeric.atmax;}else if(valor<wxG.focoNumeric.atmin){valor=wxG.focoNumeric.atmin;}wxG.focoNumeric.value=valor;wxG.enciendeEvento(wxG.focoNumeric,"onchange");wxG.focoNumeric.focus();},comprobarTipoInput:function(elemento,tipo){if(elemento.hasAttribute("data-input-type")){return(elemento.getAttribute("data-input-type")==tipo);}else{return(elemento.getAttribute("type")==tipo);}},modificarTipoInput:function(elemento,tipo){if(elemento){try{elemento.type=tipo;}catch(e){}elemento.setAttribute("data-input-type",tipo);}},ajustarAnchoNumber:function(elemento){if(!elemento.hasAttribute("data-no-ajustar-ancho")){var size=elemento.size;var fs=wxG.estiloActual(elemento,"font-size");if(fs=="")fs="16px";if(fs.indexOf("em")>-1)fs=parseInt(fs)*16;var ancho=((1+size)*parseInt(fs))/16;elemento.style.width=ancho+"em";}},cargarPasaFotos:function(){var pasaFotos=wxG.arrayClassName("pasa-fotos");for(var i=0,maxi=pasaFotos.length;i<maxi;i++){var num=Wextensible.pasaFotosData[i].length;pasaFotos[i].setAttribute("data-posicion",0);var pasaFotosBarra=wxG.arrayClassName("pasa-fotos-barra",pasaFotos[i])[0];if(pasaFotosBarra){var pasaFotosImg=wxG.arrayClassName("pasa-fotos-img",pasaFotos[i])[0];pasaFotosImg.style.lineHeight=pasaFotosImg.offsetHeight+"px";var html='<button class="pasa-fotos-min" onclick="wxG.ponerOtraFoto(event, '+i+', 0)" '+'><span data-sprite-src="../../res/img/ini.png"></span></button>'+'<button class="pasa-fotos-menos" onclick="wxG.ponerOtraFoto(event, '+i+', -1)" '+'><span data-sprite-src="../../res/img/menos.png"></span></button>'+'<div class="pasa-fotos-numeros" '+'><span>1/'+num+'</span></div>'+'<button class="pasa-fotos-mas" onclick="wxG.ponerOtraFoto(event, '+i+', 1)" '+'><span data-sprite-src="../../res/img/mas.png"></span></button>'+'<button class="pasa-fotos-max" onclick="wxG.ponerOtraFoto(event, '+i+', '+(num-1)+')" '+'><span data-sprite-src="../../res/img/fin.png"></span></button>';pasaFotosBarra.innerHTML=html;}var img=pasaFotos[i].getElementsByTagName("img")[0];if(img){wxG.agregarEventListener(null,[[img,"outer"]]);img.addEventListener("load",wxG.finalizarCargaImg,false);img.addEventListener("error",wxG.errorCargaImg,false);}var pasaFotosPie=wxG.arrayClassName("pasa-fotos-pie",pasaFotos[i]);if(pasaFotosPie.length==0){pasaFotosBarra.style.borderBottomLeftRadius="0.5em";pasaFotosBarra.style.borderBottomRightRadius="0.5em";}}},finalizarCargaImg:function(event){var evt=event||window.event;var img=evt.target||evt.srcElement;img.nextSibling.style.display="none";var pasaFotosImg=wxG.nodoPadre(img);pasaFotosImg.style.backgroundImage="";if(img.naturalWidth){img.width=img.naturalWidth;img.height=img.naturalHeight;}else{var imagen=new Image();imagen.onload=function(event){img.width=imagen.width;img.height=imagen.height;};imagen.src=img.src;}pasaFotosImg.style.lineHeight=pasaFotosImg.offsetHeight+"px";img.style.display='inline';},errorCargaImg:function(event){var evt=event||window.event;var img=evt.target||evt.srcElement;var pasaFotosImg=wxG.nodoPadre(img);pasaFotosImg.style.backgroundImage="";var mensaje=img.nextSibling;pasaFotosImg.style.lineHeight=mensaje.style.fontSize;img.nextSibling.style.display="inline";},ponerOtraFoto:function(event,indice,posicion){var evt=event||window.event;var este=evt.target||evt.srcElement;var pasaFotos=wxG.nodoPadre(wxG.nodoPadre(este));if(este.tagName.toLowerCase()=="span"){if(evt.stopPropagation){evt.stopPropagation();}else if(evt.cancelBubble!=undefined){evt.cancelBubble=true;}pasaFotos=wxG.nodoPadre(pasaFotos);}if((pasaFotos)&&(pasaFotos.className)&&(pasaFotos.className.indexOf("pasa-fotos")>-1)){if(Wextensible.pasaFotosData){var arrFotos=Wextensible.pasaFotosData[indice];var posicionActual=parseInt(pasaFotos.getAttribute("data-posicion"));var pos=parseInt(posicion);if(posicion==-1){pos=posicionActual-1;}else if(posicion==1){pos=posicionActual+1;}if(pos>(arrFotos.length-1))pos=arrFotos.length-1;if(pos<0)pos=0;var botones=pasaFotos.getElementsByTagName("button");botones[0].style.opacity=((pos==0)?"0.5":"1");botones[1].style.opacity=((pos==0)?"0.5":"1");botones[2].style.opacity=((pos==(arrFotos.length-1))?"0.5":"1");botones[3].style.opacity=((pos==(arrFotos.length-1))?"0.5":"1");if(posicionActual!=pos){pasaFotos.setAttribute("data-posicion",pos);var numeros=wxG.arrayClassName("pasa-fotos-numeros",pasaFotos)[0];if(numeros){numeros.firstChild.innerHTML=(pos+1)+"/"+arrFotos.length;}var img=pasaFotos.getElementsByTagName("img")[0];if(img){wxG.nodoPadre(img).style.backgroundImage="url(../../res/img/cargando.gif)";img.style.display="none";img.src=arrFotos[pos][0];var pasaFotosPie=wxG.arrayClassName("pasa-fotos-pie",pasaFotos)[0];if(pasaFotosPie){pasaFotosPie.innerHTML=arrFotos[pos][1];}}}}}},preBuscar:function(event){var evt=event||window.event;var este=evt.target||evt.srcElement;var inpute=este["prebusq"];var cad=inpute.value;if(cad==""){window.location="../../res/srv/buscador.php";}else{if(cad.length>75)cad=cad.substring(0,75);inpute.value=cad;este.submit();}},imprimirPagina:function(){window.print();},completadoCompartir:false,abrirCompartir:function(event){if(!wxG.completadoCompartir){var sociales={google:{"tag":"div","class":"g-plusone","data-size":"medium"},twitter:{"tag":"a","href":"../../../https@twitter.com/share","class":"twitter-share-button","data-count":"horizontal","data-via":"wextensible","data-lang":"es"},facebook:{"tag":"div","class":"fb-like","data-send":"false","data-layout":"button_count","data-width":"80","data-show-faces":"false"}};var marcasSociales=document.createElement("span");marcasSociales.id="marcas-sociales";marcasSociales.style.display="inline-block";var imgCargando=document.createElement("span");imgCargando.id="cargando-sociales";imgCargando.style.display="inline-block";imgCargando.style.backgroundImage="url(../../res/img/cargando.gif)";imgCargando.style.width="73px";imgCargando.style.height="23px";imgCargando.style.verticalAlign="bottom";marcasSociales.appendChild(imgCargando);var elem;for(var i in sociales){var red=sociales[i];for(var j in red){if(j=="tag"){elem=document.createElement(red[j]);}else{elem.setAttribute(j,red[j]);}}marcasSociales.appendChild(elem);}var menuCompartir=document.getElementById("menu-compartir");menuCompartir.removeChild(menuCompartir.firstChild);menuCompartir.appendChild(marcasSociales);wxG.cargarScripts(["../../../platform.twitter.com/widgets.js","../../../https@apis.google.com/js/plusone.js","../../../connect.facebook.net/es_LA/all.js#xfbml=1"],1,wxG.completarCompartir);window.setTimeout(wxG.completarCompartir,1200);}},completarCompartir:function(){if(!wxG.completadoCompartir){var marcasSociales=document.getElementById("marcas-sociales");var cargandoSociales=document.getElementById("cargando-sociales");marcasSociales.removeChild(cargandoSociales);wxG.completadoCompartir=true;}},cargarScripts:function(arrSrc,delay,callLoad){try{delay=delay||1;window.setTimeout(function(){try{var head=document.getElementsByTagName("head")[0];for(var i=0,max=arrSrc.length;i<max;i++){var elemento=document.createElement("script");if(callLoad){wxG.agregarEventListener(null,[[elemento,"outer"]]);if(elemento.readyState=="uninitialized"){elemento.addEventListener("readystatechange",function(){if(elemento.readyState=="loaded")callLoad();},false);}else{elemento.addEventListener("load",callLoad,false);elemento.addEventListener("error",callLoad,false);}}elemento.async=true;elemento.src=arrSrc[i];head.appendChild(elemento);}}catch(e){if(callLoad)callLoad();}},delay);}catch(e){if(callLoad)callLoad();}},adjudicarEventos:function(arr){for(var i=0,maxi=arr.length;i<maxi;i++){if(arr[i].length&&(arr[i].length==6)){var tipoIdClass=arr[i][0],idClass=arr[i][1],posicion=arr[i][2],evento=arr[i][3],funcion=arr[i][4],args=arr[i][5];var arrElementos=[];if(tipoIdClass=="id"){var elemento=document.getElementById(idClass);if(elemento)arrElementos=[elemento];}else{arrElementos=wxG.arrayClassName(idClass);}if(arrElementos.length){for(var j=0,maxj=arrElementos.length;j<maxj;j++){var elem=arrElementos[j];if(elem){switch(posicion){case "firstChild":elem=elem.firstChild;break;case "lastChild":elem=elem.lastChild;break;case "nextSibling":elem=elem.nextSibling;break;case "previousSibling":elem=elem.previousSibling;case "parentNode":elem=wxG.nodoPadre(elem);}wxG.agregarEventListener(null,[[elem,"outer"]]);if(args.length>1){elem.addEventListener(evento,(function(xArgs){return function(event){if(xArgs[0]===null)xArgs[0]=event;funcion.apply(null,xArgs);};}).call(null,args),false);}else{elem.addEventListener(evento,funcion,false);}}}}}}},adjudicarEventosGenerales:function(){window.setTimeout(function(){wxG.adjudicarEventos([["id","menuwx-menu","firstChild","click",wxG.displayNext,[null]],["id","menuwx-accesos","firstChild","click",wxG.abrirAccesos,[null]],["id","pre-buscador","","submit",wxG.preBuscar,[null]],["id","boton-compartir","","click",wxG.abrirCompartir,[null]],["id","boton-imprimir-pagina","","click",wxG.imprimirPagina,[null]],["class","desplegable","firstChild","click",wxG.displayNext,[null]],["id","boton-lista-apartados","","click",wxG.displayNext,[null,"lista-apartados",wxG.acortarMigas]]]);wxG.cargarScrollMovil([["cls","a","hv","border: rgb(200, 225, 225) solid 1px;"]]);var contenido=document.getElementById("contenido");if(contenido){wxG.agregarEventListener(null,[[contenido,"outer"]]);contenido.addEventListener("click",function(){var menu=wxG.arrayClassName("menuwx-desp");for(var i=0,maxi=menu.length;i<maxi;i++){menu[i].style.display="none";}var accesos=document.getElementById("accesos");if(accesos){accesos.style.display="none";}},false);}},1);},migasAcortadas:false,acortarMigas:function(elem){if(!wxG.migasAcortadas){var ule=elem.getElementsByTagName("ul")[0];var lies=ule.childNodes;for(var i=0,maxi=lies.length;i<maxi;i++){var entrada=lies[i].lastChild;var texto=wxG.getInnerText(entrada);texto=wxG.quitaEspacios(texto);if(texto.length>30){lies[i].title=texto;texto=texto.substr(0,27)+"...";wxG.setInnerText(entrada,texto);}}wxG.migasAcortadas=true;}},accesos:null,estadoAccesos:0,abrirAccesos:function(){var accesos=document.getElementById("accesos");if((wxG.accesos==null)&&(wxG.estadoAccesos>-1)){var html='<li><p>Cargando accesos directos...</p>'+'<img src="../../res/img/cargando.gif" width="73" height="23" '+'alt="cargando accesos" id="mensaje-img-cargando" />'+'<p id="mensaje-acceso" class="rojo"></p></li>';accesos.innerHTML=html;accesos.style.display="block";var marcaTime=Math.random();wxG.cargarScripts(["../../res/inc/accesos-data/links.js@mt="+marcaTime],1,wxG.cargarAccesos);}else{if(accesos.style.display=="none"){accesos.style.display="block";}else{accesos.style.display="none";}}},cargarAccesos:function(){if(wxG.estadoAccesos==0){var accesos=document.getElementById("accesos");var mensaje='No pudo abrirse la lista de accesos directos actualizada. '+'Puede acceder a una <a href="../../res/inc/accesos-data/" '+'style="text-decoration: underline">lista de accesos</a> alternativa, '+'pero es posible que no esté actualizada.';if(wxG.accesos){try{var html="";for(var i in wxG.accesos){html+='<li class="submenu"><h4><button onclick="wxG.abrirSubmenu(&quot;'+i+'&quot;)">'+wxG.accesos[i].title+'</button></h4>';if(wxG.accesos[i].img!=""){html+='<div><div data-accesos-src="'+wxG.accesos[i].img+'" '+'onclick="wxG.abrirSubmenu(&quot;'+i+'&quot;)"></div></div>';}html+='<ul class="submenu-ul" id="submenu-'+i+'">';var links=wxG.accesos[i].links;for(var j=0,maxj=links.length;j<maxj;j++){if((links[j]==undefined)||(links[j].length!=2)){error=true;mensaje='Error en el acceso "'+i+'".';}else{html+='<li><a href="'+links[j][1]+'">'+links[j][0]+'</a></li>';}}html+='</ul></li>';}accesos.innerHTML=html;wxG.estadoAccesos=1;}catch(e){wxG.accesos=null;mensaje="Error de JavaScript: ("+e.message+")";}}if(!wxG.accesos){wxG.estadoAccesos=-1;accesos.innerHTML='<li class="rojo"><p style="width: 16em; text-align: left; padding: 0.2em;">'+mensaje+'</p>'+'<input type="button" value="Cerrar" '+'onclick="document.getElementById(&quot;accesos&quot;).style.display=&quot;none&quot;" /></li>';}}},abrirSubmenu:function(link){var submenu=document.getElementById("submenu-"+link);if(submenu.style.display=="block"){submenu.style.display="none";}else{var ules=wxG.arrayClassName("submenu-ul");for(var i=0,maxi=ules.length;i<maxi;i++){ules[i].style.display="none";}submenu.style.display="block";}},subirItem:function(event){var evt=event||window.event;var este=evt.target||evt.srcElement;var esteHn=wxG.nodoPadre(este);var tag=esteHn.tagName.toLowerCase();if((tag.length==2)&&(tag[0]=="h")){var num=parseInt(tag[1]);if(num>1)num--;var hns=document.getElementsByTagName("h"+num);var anterior=document.getElementsByTagName("h1")[0];for(var i=0,maxi=hns.length;i<maxi;i++){var esteOffset=hns[i].offsetTop;if(esteOffset>esteHn.offsetTop){break;}anterior=hns[i];}document.body.scrollTop=anterior.offsetTop;document.documentElement.scrollTop=anterior.offsetTop;}}};